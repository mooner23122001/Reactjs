{"ast":null,"code":"import { takeEvery, call, put } from // , delay\n\"redux-saga/effects\";\nimport axios from \"axios\";\nimport { FETCH_USERS, // EDITED,\nFETCH_USERS_ASYNC, // FETCH_USERS_ASYNC_ERROR,\nADD_USER, ADD_USER_ASYNC, EDIT_USER, DELETE_USER, DELETE_USER_ASYNC, EDIT_USER_ASYNC } from \"../actions/actionTypes\";\nimport { fetchUsers } from \"./api\";\nexport default function* rootWatcher() {\n  yield takeEvery(FETCH_USERS, fetchUsersAsync);\n  yield takeEvery(ADD_USER, addUserAsync);\n  yield takeEvery(EDIT_USER, editUserAsync);\n  yield takeEvery(DELETE_USER, deleteUserAsync);\n}\nexport function* fetchUsersAsync() {\n  let response = yield call(fetchUsers);\n  yield put({\n    type: FETCH_USERS_ASYNC,\n    payload: response.data.data.data\n  });\n}\nexport function* addUserAsync(action) {\n  yield axios.post(\"https://blog-dhv.onrender.com/api/v1/users/signup\", {\n    name: action.payload.name,\n    username: action.payload.username,\n    password: action.payload.password\n  }, {\n    withCredentials: true\n  });\n  yield put({\n    type: ADD_USER_ASYNC,\n    payload: action.payload\n  });\n  const data = yield call(fetchUsers);\n  yield put({\n    type: FETCH_USERS_ASYNC,\n    payload: data.data.data.data\n  });\n}\nexport function* editUserAsync(action) {\n  axios.patch(\"https://blog-dhv.onrender.com/api/v1/users/\" + action.payload.id, action.payload, {\n    withCredentials: true\n  });\n  yield put({\n    type: EDIT_USER_ASYNC,\n    payload: action.payload\n  });\n  const data = yield call(fetchUsers);\n  yield put({\n    type: FETCH_USERS_ASYNC,\n    payload: data.data.data.data\n  });\n}\nexport function* deleteUserAsync(action) {\n  axios.delete(\"https://blog-dhv.onrender.com/api/v1/users/\" + action.payload);\n  yield put({\n    type: DELETE_USER_ASYNC,\n    payload: action.payload\n  });\n}","map":{"version":3,"sources":["D:\\redux-saga\\src\\sagas\\saga.js"],"names":["takeEvery","call","put","axios","FETCH_USERS","FETCH_USERS_ASYNC","ADD_USER","ADD_USER_ASYNC","EDIT_USER","DELETE_USER","DELETE_USER_ASYNC","EDIT_USER_ASYNC","fetchUsers","rootWatcher","fetchUsersAsync","addUserAsync","editUserAsync","deleteUserAsync","response","type","payload","data","action","post","name","username","password","withCredentials","patch","id","delete"],"mappings":"AAAA,SACEA,SADF,EAEEC,IAFF,EAGEC,GAHF,QAIE;AACK,oBALP;AAMA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,WADF,EAEE;AACAC,iBAHF,EAIE;AACAC,QALF,EAMEC,cANF,EAOEC,SAPF,EAQEC,WARF,EASEC,iBATF,EAUEC,eAVF,QAWO,wBAXP;AAYA,SAASC,UAAT,QAA2B,OAA3B;AAEA,eAAe,UAAUC,WAAV,GAAwB;AACrC,QAAMb,SAAS,CAACI,WAAD,EAAcU,eAAd,CAAf;AACA,QAAMd,SAAS,CAACM,QAAD,EAAWS,YAAX,CAAf;AACA,QAAMf,SAAS,CAACQ,SAAD,EAAYQ,aAAZ,CAAf;AACA,QAAMhB,SAAS,CAACS,WAAD,EAAcQ,eAAd,CAAf;AACD;AAED,OAAO,UAAUH,eAAV,GAA4B;AACjC,MAAII,QAAQ,GAAG,MAAMjB,IAAI,CAACW,UAAD,CAAzB;AACA,QAAMV,GAAG,CAAC;AAAEiB,IAAAA,IAAI,EAAEd,iBAAR;AAA2Be,IAAAA,OAAO,EAAEF,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmBA;AAAvD,GAAD,CAAT;AACD;AAED,OAAO,UAAUN,YAAV,CAAuBO,MAAvB,EAA+B;AACpC,QAAMnB,KAAK,CAACoB,IAAN,sDAEJ;AACEC,IAAAA,IAAI,EAAEF,MAAM,CAACF,OAAP,CAAeI,IADvB;AAEEC,IAAAA,QAAQ,EAAEH,MAAM,CAACF,OAAP,CAAeK,QAF3B;AAGEC,IAAAA,QAAQ,EAAEJ,MAAM,CAACF,OAAP,CAAeM;AAH3B,GAFI,EAOJ;AAAEC,IAAAA,eAAe,EAAE;AAAnB,GAPI,CAAN;AASA,QAAMzB,GAAG,CAAC;AAAEiB,IAAAA,IAAI,EAAEZ,cAAR;AAAwBa,IAAAA,OAAO,EAAEE,MAAM,CAACF;AAAxC,GAAD,CAAT;AACA,QAAMC,IAAI,GAAG,MAAMpB,IAAI,CAACW,UAAD,CAAvB;AACA,QAAMV,GAAG,CAAC;AAAEiB,IAAAA,IAAI,EAAEd,iBAAR;AAA2Be,IAAAA,OAAO,EAAEC,IAAI,CAACA,IAAL,CAAUA,IAAV,CAAeA;AAAnD,GAAD,CAAT;AACD;AAED,OAAO,UAAUL,aAAV,CAAwBM,MAAxB,EAAgC;AACrCnB,EAAAA,KAAK,CAACyB,KAAN,CACE,gDACEN,MAAM,CAACF,OAAP,CAAeS,EAFnB,EAGEP,MAAM,CAACF,OAHT,EAIE;AAAEO,IAAAA,eAAe,EAAE;AAAnB,GAJF;AAMA,QAAMzB,GAAG,CAAC;AAAEiB,IAAAA,IAAI,EAAER,eAAR;AAAyBS,IAAAA,OAAO,EAAEE,MAAM,CAACF;AAAzC,GAAD,CAAT;AACA,QAAMC,IAAI,GAAG,MAAMpB,IAAI,CAACW,UAAD,CAAvB;AACA,QAAMV,GAAG,CAAC;AAAEiB,IAAAA,IAAI,EAAEd,iBAAR;AAA2Be,IAAAA,OAAO,EAAEC,IAAI,CAACA,IAAL,CAAUA,IAAV,CAAeA;AAAnD,GAAD,CAAT;AACD;AAED,OAAO,UAAUJ,eAAV,CAA0BK,MAA1B,EAAkC;AACvCnB,EAAAA,KAAK,CAAC2B,MAAN,CACE,gDAAgDR,MAAM,CAACF,OADzD;AAGA,QAAMlB,GAAG,CAAC;AAAEiB,IAAAA,IAAI,EAAET,iBAAR;AAA2BU,IAAAA,OAAO,EAAEE,MAAM,CAACF;AAA3C,GAAD,CAAT;AAED","sourcesContent":["import {\r\n  takeEvery,\r\n  call,\r\n  put,\r\n  // , delay\r\n} from \"redux-saga/effects\";\r\nimport axios from \"axios\";\r\nimport {\r\n  FETCH_USERS,\r\n  // EDITED,\r\n  FETCH_USERS_ASYNC,\r\n  // FETCH_USERS_ASYNC_ERROR,\r\n  ADD_USER,\r\n  ADD_USER_ASYNC,\r\n  EDIT_USER,\r\n  DELETE_USER,\r\n  DELETE_USER_ASYNC,\r\n  EDIT_USER_ASYNC,\r\n} from \"../actions/actionTypes\";\r\nimport { fetchUsers } from \"./api\";\r\n\r\nexport default function* rootWatcher() {\r\n  yield takeEvery(FETCH_USERS, fetchUsersAsync);\r\n  yield takeEvery(ADD_USER, addUserAsync);\r\n  yield takeEvery(EDIT_USER, editUserAsync);\r\n  yield takeEvery(DELETE_USER, deleteUserAsync);\r\n}\r\n\r\nexport function* fetchUsersAsync() {\r\n  let response = yield call(fetchUsers);\r\n  yield put({ type: FETCH_USERS_ASYNC, payload: response.data.data.data });\r\n}\r\n\r\nexport function* addUserAsync(action) {\r\n  yield axios.post(\r\n    `https://blog-dhv.onrender.com/api/v1/users/signup`,\r\n    {\r\n      name: action.payload.name,\r\n      username: action.payload.username,\r\n      password: action.payload.password,\r\n    },\r\n    { withCredentials: true }\r\n  );\r\n  yield put({ type: ADD_USER_ASYNC, payload: action.payload });\r\n  const data = yield call(fetchUsers);\r\n  yield put({ type: FETCH_USERS_ASYNC, payload: data.data.data.data });\r\n}\r\n\r\nexport function* editUserAsync(action) {\r\n  axios.patch(\r\n    `https://blog-dhv.onrender.com/api/v1/users/` +\r\n      action.payload.id,\r\n    action.payload,\r\n    { withCredentials: true }\r\n  );\r\n  yield put({ type: EDIT_USER_ASYNC, payload: action.payload });\r\n  const data = yield call(fetchUsers);\r\n  yield put({ type: FETCH_USERS_ASYNC, payload: data.data.data.data });\r\n}\r\n\r\nexport function* deleteUserAsync(action) {\r\n  axios.delete(\r\n    \"https://blog-dhv.onrender.com/api/v1/users/\" + action.payload\r\n  );\r\n  yield put({ type: DELETE_USER_ASYNC, payload: action.payload });\r\n \r\n}\r\n"]},"metadata":{},"sourceType":"module"}